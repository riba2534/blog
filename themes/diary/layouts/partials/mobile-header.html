<div class="single-column-drawer-container" id="drawer">
    <div class="drawer-content">
        <div class="drawer-menu">
            {{- partial "google-search.html" . -}}
            {{ $current := .RelPermalink | absLangURL }}
            {{ range .Site.Menus.main }}
                {{$actived := "false"}}
                <!-- A problem caused by slash: if you use "eq" directly, you will get a result of "/tags/" and "/tags" -->
                {{if hasPrefix  $current (.URL|absLangURL)}}
                    {{$actived = "active"}}
                {{end}}
                {{ if .HasChildren }}
                {{ $submenuId := printf "drawer-submenu-%s" (.Name | urlize) }}
                <div class="a-block drawer-menu-item {{$actived}}"
                     role="button"
                     tabindex="0"
                     onclick="toggleDrawerSubMenu(this)"
                     onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();toggleDrawerSubMenu(this)}"
                     aria-expanded="false"
                     aria-controls="{{ $submenuId }}">
                    {{ .Name }}
                    <ul id="{{ $submenuId }}" class="nav-link-subitem drawer-submenu" style="display: none;" aria-hidden="true">
                        {{ range .Children }}
                        <li><a href="{{ .URL }}">{{ .Name }}</a></li>
                        {{ end }}
                    </ul>
                </div>
                {{ else }}
                <!--<a class="a-block nav-link-item {{$actived}}" href="{{ .URL }}">-->
                <a class="a-block drawer-menu-item {{ $actived }}" href="{{ .URL }}">
                    {{ .Name }}
                </a>
                {{ end }}
            {{ end }}
            {{ if and (not (.Site.Params.disableToC) ) (.IsPage) }}
            <div class="toc">
                {{- partial "toc.html" . -}}
            </div>
            {{ end }}
        </div>
    </div>
</div>
<div id="drawer-overlay" class="single-column-drawer-overlay" style="display: none;" role="button" tabindex="0" aria-label="关闭菜单" onclick="toggleDrawer()" onkeydown="if(event.key==='Enter'||event.key===' '||event.key==='Escape'){event.preventDefault();toggleDrawer()}"></div>
<nav id="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div id="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" aria-label="打开菜单" aria-expanded="false" onclick="toggleDrawer()">
            <i class="material-icons" aria-hidden="true">
                menu
            </i>
        </button>
        <a id="navTitle" class="navbar-brand" href="{{ "" | absLangURL }}">
            {{.Site.Title}}
        </a>
    </div>
</nav>
<div class="single-column-header-container" id="pageHead">
    <a href="{{ "" | absLangURL }}">
        <div class="single-column-header-title">{{.Site.Title}}</div>
        {{ with .Site.Params.subtitle }}
        <div class="single-column-header-subtitle">{{.}}</div>
        {{ end }}

    </a>
</div>
